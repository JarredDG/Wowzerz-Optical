<!DOCTYPE html>
<html lang ="en">
<head>
<link rel="stylesheet" href="productdetails-styles.css">
</head>
<body>
<div class ="froggers">
  <div class = "nav"><a href="home.html"><h1>HOME</h1></a></div>
  <div class = "nav"><a href="details.html"><h1>DETAILS</h1></a></div>

  <div class="nav">
  <div class="dropdown">
    <h1>EYEWEAR â–¼</h1>
    <div class="dropdown-content">
      <a href="Eyeglasses-men.html">Men</a>
      <a href="Eyeglasses-womens.html">Women</a>
      <a href="Eyeglasses-kids.html">Kids</a>
      <a href="Eyeglassesunisex.html">Unisex</a>
    </div>
  </div>
  </div>
  <div class="nav"><a href="contacts.html"><h1>CONTACT US</h1></a></div>
  <div class="nav"><a href="About-us.html"><h1>ABOUT US</h1></a></div>
  <div class="cart-btn"><a href="cart.html">ðŸ›’</a></div>
</div>

<div class="categories">
  <div class="catenav"><h1><a href="Eyeglasses-men.html">MEN'S</a></h1></div>
  <div class="catenav"><h1><a href="Eyeglasses-womens.html">WOMEN'S</a></h1></div>
  <div class="catenav"><h1><a href="Eyeglasses-kids.html">KID'S</a></h1></div>
  <div class="catenav"><h1><a href="Eyeglassesunisex.html">UNISEX</a></h1></div>
</div>

<div class="product-container">
    <div class="product-image">
      <img id="product-image" src = "" alt = "Product Image"> 
    </div>

    <div class="product-details">
      <h2 id="product-name"></h2>
      <p class="price" id ="product-price"></p>
      <p class="desc" id="product-desc"></p>

      <h3>Optical Power</h3>
      <div class="power-options">
        <button>+1.00</button>
        <button>+1.25</button>
        <button>+1.50</button>
        <button>+1.75</button>
        <button>+2.00</button>
        <button>+2.25</button>
        <button>+2.50</button>
        <button>+2.75</button>
        <button>+3.00</button>
      </div>

      <div class="quantity">
        <label>Quantity</label>
        <button class="qty-btn">-</button>
        <span class="qty-number">1</span>
        <button class="qty-btn">+</button>
      </div>

      <button class="add-to-cart">Add to Cart</button>
    </div>
  </div>

  <script>
    const products = [
    {
      id: 1,
      name: "Navy Blue Rectangular Shaped Glasses",
      price: "â‚±899.00",
      desc: "Elevate your everyday style with our classic rectangular eyeglasses, featuring a subtle blue accent for a modern wish.",
      image: "images/men glasses 1.png"
    },
    {
      id: 2,
      name: "Muddy Blue Hexagonal Shaped Glasses",
      price: "â‚±999.00",
      desc: "Unique hexagonal design with a muddy blue tone, ideal for adding a touch of style.", 
      image: "images/men glasses 2.png"
    },
    {
      id: 3,
      name: "Grey Metal Frames",
      price: "â‚±1299.00",
      desc: " Simple but lightweight grey metal frame for a clean, minimalist.", 
      image: "images/men glasses 3.png"
    },
    {
      id: 4,
      name: "Gold Round Glasses",
      price: "â‚±1899.00",
      desc: " Classic round frame in elegant gold, giving a vintage yet fashionable vibe.", 
      image: "images/men glasses 4.png"
    },
    {
      id: 5,
      name: "Black And Gold Rectangular Glasses",
      price: "â‚±1399.00",
      desc: "A bold mix of black and gold in a rectangular frame, combining elegance with strength.", 
      image: "images/men glasses 5.png"
    },
    {
      id: 6,
      name: "Blue And Black Square Shaped Glasses",
      price: "â‚±1299.00",
      desc: "Trendy square frame with a cool blue and black color combo for a stylish edge.", 
      image: "images/men glasses 6.png"
    },
    {
      id: 7,
      name: "Thin Black Metal Round Glasses",
      price: "â‚±1299.00",
      desc: "Lightweight thin black metal frame in a round shape, great for a classic and timeless look.", 
      image: "images/men glasses 7.png"
    },

    ];

const params = new URLSearchParams(window.location.search);
const productId = parseInt(params.get('id'));
const product = products.find(p => p.id === productId);

if (product) {
  document.getElementById('product-image').src = product.image;
  document.getElementById('product-name').textContent = product.name;
  document.getElementById('product-price').textContent = product.price;
  document.getElementById('product-desc').textContent = product.desc;
}

let selectedPower = null;
let quantity = 1;

const powerButtons = document.querySelectorAll('.power-options button');
powerButtons.forEach(btn => {
  btn.addEventListener('click', () => {
    powerButtons.forEach(b => b.classList.remove('selected'));
    btn.classList.add('selected');
    selectedPower = btn.textContent;
  });
});

const qtyDisplay = document.querySelector('.qty-number');
const qtyButtons = document.querySelectorAll('.qty-btn');

qtyButtons.forEach(btn => {
  btn.addEventListener('click', () => {
    if (btn.textContent === '+' && quantity < 99) quantity++;
    else if (btn.textContent === '-' && quantity > 1) quantity--;
    qtyDisplay.textContent = quantity;
  });
});

let cart = JSON.parse(localStorage.getItem('cart')) || [];

const addToCartBtn = document.querySelector('.add-to-cart');
addToCartBtn.addEventListener('click', () => {
  if (!product) return;

  if (!selectedPower) {
    alert("Please select an optical power first!");
    return;
  }

  const existingItem = cart.find(item => item.id === product.id && item.power === selectedPower);

  if (existingItem) {
    existingItem.quantity += quantity;
  } else {
    cart.push({
      id: product.id,
      name: product.name,
      price: product.price,
      image: product.image,
      power: selectedPower,
      quantity: quantity
    });
  }

  localStorage.setItem('cart', JSON.stringify(cart));
  alert(`${product.name} (${selectedPower}) x${quantity} added to cart!`);
});
</script>

</body>
</html>

